<div
  style="
    width: 297mm;
    height: 210mm;
    padding: 2.5mm 5.5mm;
    border: 1px solid black;
    background: white;
  ">
  <div style="
    width: 100%;
    height: 100%;
    border: 0.75px;
    background: transparent;
  ">
    <ng-container
      *ngIf="operations.length <= 0">
      <div
        class="mod-text">Нет созданных операций</div>
    </ng-container>
    <ng-container
      *ngIf="operations.length > 0">
      <ng-container *ngFor="let operation of operations; index as i">
        <div
          (click)="selectOperation(i)"
          [class.mod-frame]="i === selectedOperationId">
          <div
            class="mod-text">Операция {{ i + 1 }} - {{ operation.group.name }}</div>
          <div  *ngFor="let transition of operation.transitions; index as j"
                class="mod-indent-left">
            <div  (click)="selectTransition(j)"
                  [class.mod-frame]="j === selectedTransitionId">
              <span class="mod-text">*</span>
              <span class="mod-text">{{ transition.action.name.toLowerCase() }} </span>
              <span class="mod-text">{{ transition.object.fullname.toLowerCase() }} </span>
              <span class="mod-text">{{ transition.id }}</span>
              <span class="mod-text"
                    *ngIf="transition.measures.length > 0">, выдерживая размеры </span>
              <ng-container *ngFor="let measure of transition.measures">
                <span class="mod-text">{{ measure.name }}={{ measure.value }} мм</span>
              </ng-container>
            </div>
          </div>
        </div>
      </ng-container>
    </ng-container>
    <input
       class="mod-margin mod-button"
       type="button"
       value="+ Добавить операцию"
       (click)="selectOperation(0)" />
    <input
      *ngIf="operations.length > 0"
      class="mod-margin mod-button"
      type="button"
      value="x Удалить всё"
      (click)="clearAll()"/>
  </div>
</div>
<app-flyout #flyout>
  <div class="container-fluid mod-padding">
    <div class="row">
      <div>
        <input
          class="mod-margin mod-button"
          type="button"
          value="Закрыть"
          (click)="closeFlyout()"/>
      </div>
      <div class="col">
        <operation-manager
          *ngIf="selectedOperationId >= 0"
          [operationId]="selectedOperationId"
          class="mod-block mod-frame"
          (addOperation)="onAddOperation($event)"></operation-manager>
      </div>
    </div>
    <div class="row">
      <span class="col mod-padding">
        <transition-manager
          *ngIf="selectedTransitionId >= 0"
          class="mod-block mod-frame"></transition-manager>
      </span>
    </div>
  </div>
</app-flyout>

